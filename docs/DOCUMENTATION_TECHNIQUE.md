# üõ†Ô∏è DOCUMENTATION TECHNIQUE - ECORIDE

**Plateforme de covoiturage √©cologique**
**Projet RNCP - D√©veloppeur Web et Web Mobile**

---

## üìã SOMMAIRE

1. [R√©flexions initiales technologiques](#1-r√©flexions-initiales-technologiques)
2. [Configuration environnement de travail](#2-configuration-environnement-de-travail)
3. [Mod√®le conceptuel de donn√©es](#3-mod√®le-conceptuel-de-donn√©es)
4. [Diagrammes d'utilisation et de s√©quence](#4-diagrammes-dutilisation-et-de-s√©quence)
5. [Documentation du d√©ploiement](#5-documentation-du-d√©ploiement)
6. [Architecture technique d√©taill√©e](#6-architecture-technique-d√©taill√©e)

---

## 1. R√âFLEXIONS INITIALES TECHNOLOGIQUES

### üéØ **Analyse du besoin**

Le projet EcoRide r√©pond √† un double enjeu :
- **√âcologique** : R√©duire l'empreinte carbone des d√©placements
- **Social** : Cr√©er une communaut√© de covoiturage accessible

### üîç **Choix technologiques justifi√©s**

#### **Backend : PHP 8.1+**
```
‚úÖ Avantages :
- Langage ma√Ætris√© avec √©cosyst√®me riche
- PDO int√©gr√© pour la s√©curit√© (requ√™tes pr√©par√©es)
- Sessions natives pour l'authentification
- D√©ploiement simple sur la plupart des h√©bergeurs

‚ùå Alternatives √©cart√©es :
- Node.js : Complexit√© suppl√©mentaire pour un MVP
- Python/Django : Courbe d'apprentissage importante
- Java : Trop lourd pour ce type d'application
```

#### **Base de donn√©es : MySQL 8.0+**
```
‚úÖ Avantages :
- ACID compliance pour la coh√©rence des transactions
- Support natif des contraintes de cl√©s √©trang√®res
- Performance optimis√©e pour les requ√™tes g√©ographiques
- √âcosyst√®me mature (phpMyAdmin, outils de monitoring)

‚ùå Alternatives √©cart√©es :
- PostgreSQL : Excellente mais moins ma√Ætris√©e
- MongoDB : NoSQL inadapt√© pour les relations complexes
- SQLite : Limitation pour le multi-utilisateur
```

#### **Frontend : HTML5/CSS3/JavaScript natif**
```
‚úÖ Avantages :
- Performance maximale (pas de framework lourd)
- Compatibilit√© universelle
- Contr√¥le total sur le code g√©n√©r√©
- Apprentissage des fondamentaux

‚ùå Alternatives √©cart√©es :
- React : Complexit√© suppl√©mentaire, bundling n√©cessaire
- Vue.js : Int√©ressant mais pas n√©cessaire pour ce projet
- Bootstrap : Pr√©f√©rence pour CSS custom et apprentissage
```

#### **H√©bergement : Render**
```
‚úÖ Avantages :
- D√©ploiement Git automatique
- Base de donn√©es MySQL manag√©e
- Variables d'environnement s√©curis√©es
- HTTPS automatique
- Monitoring int√©gr√©

‚ùå Alternatives √©cart√©es :
- Heroku : Plus cher, PostgreSQL par d√©faut
- Vercel : Orient√© frontend, serverless functions
- H√©bergement classique : Moins moderne, configuration manuelle
```

### üèóÔ∏è **Architecture choisie : MVC adapt√©**

```
üìÅ Structure :
/config/        ‚Üê Configuration centralis√©e
/api/          ‚Üê Contr√¥leurs API (endpoints REST)
/user/         ‚Üê Vues utilisateur
/admin/        ‚Üê Vues administration
/css/          ‚Üê Styles (Vue)
/js/           ‚Üê Scripts client (Vue)
/database/     ‚Üê Mod√®le (schemas, seeds)

Avantages :
- S√©paration claire des responsabilit√©s
- Maintenabilit√© et √©volutivit√©
- Tests facilit√©s par composant
- R√©utilisabilit√© du code
```

---

## 2. CONFIGURATION ENVIRONNEMENT DE TRAVAIL

### üíª **Environnement de d√©veloppement**

#### **Stack locale (WAMP)**
```yaml
Serveur web: Apache 2.4+
PHP: 8.1+ avec extensions
  - pdo_mysql (base de donn√©es)
  - session (authentification)
  - json (API responses)
  - curl (communications)

Base de donn√©es: MySQL 8.0
  - Charset: utf8mb4 (support emoji/unicode complet)
  - Collation: utf8mb4_unicode_ci
  - InnoDB: Support transactions ACID

Outils:
  - phpMyAdmin: Administration base
  - Git: Versioning et d√©ploiement
  - VS Code: IDE avec extensions PHP
```

#### **Configuration adaptative**
```php
// config/database.php - D√©tection automatique environnement
class Database {
    private $host;
    private $dbname;
    private $username;
    private $password;

    public function __construct() {
        // Priorit√© aux variables Render (production)
        $this->host = $_ENV['MYSQLHOST'] ?? getenv('MYSQLHOST');
        $this->dbname = $_ENV['MYSQL_DATABASE'] ?? getenv('MYSQL_DATABASE');
        $this->username = $_ENV['MYSQLUSER'] ?? getenv('MYSQLUSER');
        $this->password = $_ENV['MYSQLPASSWORD'] ?? getenv('MYSQLPASSWORD');

        // Fallback local si variables vides
        if (empty($this->host) || empty($this->dbname) || empty($this->username)) {
            $this->host = 'localhost';
            $this->dbname = 'ecoride_db';
            $this->username = 'root';
            $this->password = '';
        }
    }
}
```

### üîß **Outils de d√©veloppement**

#### **IDE et extensions**
- **VS Code** avec extensions :
  - PHP Intelephense (autocompl√©tion)
  - MySQL (requ√™tes directes)
  - GitLens (historique Git)
  - Live Server (test local)

#### **Versionning Git**
```bash
# Configuration initiale
git init
git remote add origin https://github.com/Isydoria/EcoRide.git

# Workflow de d√©veloppement
git add .
git commit -m "feat: nouvelle fonctionnalit√©"
git push origin main

# Render d√©ploie automatiquement √† chaque push
```

#### **Base de donn√©es**
```sql
-- Cr√©ation locale
CREATE DATABASE ecoride_db
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;

-- Import structure et donn√©es
mysql -u root -p ecoride_db < database/schema.sql
mysql -u root -p ecoride_db < database/seed.sql
```

---

## 3. MOD√àLE CONCEPTUEL DE DONN√âES

### üóÉÔ∏è **Diagramme Entit√©-Relation (ERD)**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    1:n     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    1:n     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   UTILISATEUR   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ    VOITURE      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   COVOITURAGE    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ utilisateur_id  ‚îÇ‚óÑ‚îÄ‚îÄ‚îê        ‚îÇ voiture_id      ‚îÇ‚óÑ‚îÄ‚îÄ‚îê        ‚îÇ covoiturage_id   ‚îÇ‚óÑ‚îÄ‚îÄ‚îê
‚îÇ pseudo          ‚îÇ   ‚îÇ        ‚îÇ utilisateur_id  ‚îÇ   ‚îÇ        ‚îÇ conducteur_id    ‚îÇ   ‚îÇ
‚îÇ email           ‚îÇ   ‚îÇ        ‚îÇ marque          ‚îÇ   ‚îÇ        ‚îÇ voiture_id       ‚îÇ   ‚îÇ
‚îÇ password        ‚îÇ   ‚îÇ        ‚îÇ modele          ‚îÇ   ‚îÇ        ‚îÇ ville_depart     ‚îÇ   ‚îÇ
‚îÇ role            ‚îÇ   ‚îÇ        ‚îÇ immatriculation ‚îÇ   ‚îÇ        ‚îÇ ville_arrivee    ‚îÇ   ‚îÇ
‚îÇ credit          ‚îÇ   ‚îÇ        ‚îÇ places          ‚îÇ   ‚îÇ        ‚îÇ date_depart      ‚îÇ   ‚îÇ
‚îÇ statut          ‚îÇ   ‚îÇ        ‚îÇ couleur         ‚îÇ   ‚îÇ        ‚îÇ prix_par_place   ‚îÇ   ‚îÇ
‚îÇ created_at      ‚îÇ   ‚îÇ        ‚îÇ energie         ‚îÇ   ‚îÇ        ‚îÇ places_disp.     ‚îÇ   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ        ‚îÇ created_at      ‚îÇ   ‚îÇ        ‚îÇ statut           ‚îÇ   ‚îÇ
                      ‚îÇ        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ        ‚îÇ created_at       ‚îÇ   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ                              ‚îÇ        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ   PARAMETRE     ‚îÇ   ‚îÇ        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ        ‚îÇ      AVIS       ‚îÇ   ‚îÇ        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ parametre_id    ‚îÇ   ‚îÇ        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ        ‚îÇ  PARTICIPATION   ‚îÇ   ‚îÇ
‚îÇ utilisateur_id  ‚îÇ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ avis_id         ‚îÇ   ‚îÇ        ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ type            ‚îÇ            ‚îÇ covoiturage_id  ‚îÇ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ participation_id ‚îÇ   ‚îÇ
‚îÇ valeur          ‚îÇ            ‚îÇ evaluateur_id   ‚îÇ            ‚îÇ covoiturage_id   ‚îÇ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ created_at      ‚îÇ            ‚îÇ note            ‚îÇ            ‚îÇ passager_id      ‚îÇ‚îÄ‚îÄ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ commentaire     ‚îÇ            ‚îÇ nombre_places    ‚îÇ   ‚îÇ
                               ‚îÇ type            ‚îÇ            ‚îÇ credit_utilise   ‚îÇ   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ created_at      ‚îÇ            ‚îÇ statut           ‚îÇ   ‚îÇ
‚îÇ  NOTIFICATION   ‚îÇ            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ created_at       ‚îÇ   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ notification_id ‚îÇ                                                                  ‚îÇ
‚îÇ utilisateur_id  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ type            ‚îÇ
‚îÇ titre           ‚îÇ
‚îÇ message         ‚îÇ
‚îÇ lu              ‚îÇ
‚îÇ created_at      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üìä **Description des entit√©s**

#### **UTILISATEUR** (Entit√© centrale)
```sql
-- Gestion des comptes et authentification
utilisateur_id    : Cl√© primaire auto-incr√©ment√©e
pseudo           : Nom d'affichage unique
email            : Identifiant de connexion (unique)
password         : Hash bcrypt s√©curis√©
role             : ENUM('utilisateur', 'administrateur')
credit           : Solde de cr√©dits (INT, d√©faut 20)
statut           : ENUM('actif', 'suspendu', 'inactif')
created_at       : Timestamp inscription
```

#### **VOITURE** (V√©hicules des conducteurs)
```sql
-- Gestion du parc automobile
voiture_id       : Cl√© primaire
utilisateur_id   : FK vers UTILISATEUR (propri√©taire)
marque           : Constructeur (VARCHAR 50)
modele           : Mod√®le du v√©hicule (VARCHAR 50)
immatriculation  : Plaque unique (VARCHAR 20)
places           : Nombre de places disponibles (INT)
couleur          : Couleur du v√©hicule (VARCHAR 30)
energie          : ENUM('electrique','hybride','essence','diesel')
created_at       : Date d'ajout
```

#### **COVOITURAGE** (Trajets propos√©s)
```sql
-- Trajets cr√©√©s par les conducteurs
covoiturage_id      : Cl√© primaire
conducteur_id       : FK vers UTILISATEUR
voiture_id          : FK vers VOITURE
ville_depart        : Point de d√©part (VARCHAR 100)
ville_arrivee       : Destination (VARCHAR 100)
date_depart         : Date et heure du trajet
prix_par_place      : Co√ªt en cr√©dits (DECIMAL)
places_disponibles  : Places restantes (INT)
statut              : ENUM('planifie','en_cours','termine','annule')
created_at          : Date de cr√©ation
```

#### **PARTICIPATION** (R√©servations)
```sql
-- Liens passagers ‚Üî trajets
participation_id : Cl√© primaire
covoiturage_id   : FK vers COVOITURAGE
passager_id      : FK vers UTILISATEUR
nombre_places    : Places r√©serv√©es (INT)
credit_utilise   : Cr√©dits d√©pens√©s (DECIMAL)
statut           : ENUM('confirmee','en_cours','terminee','annulee')
created_at       : Date de r√©servation
```

### üîó **Relations et contraintes**

```sql
-- Relations principales
UTILISATEUR 1:n VOITURE         (Un utilisateur peut avoir plusieurs v√©hicules)
UTILISATEUR 1:n COVOITURAGE     (Un conducteur peut cr√©er plusieurs trajets)
VOITURE 1:n COVOITURAGE         (Un v√©hicule peut servir √† plusieurs trajets)
COVOITURAGE 1:n PARTICIPATION   (Un trajet peut avoir plusieurs passagers)
UTILISATEUR 1:n PARTICIPATION   (Un utilisateur peut r√©server plusieurs trajets)

-- Contraintes d'int√©grit√©
- FK avec CASCADE DELETE pour pr√©server la coh√©rence
- Contraintes CHECK sur les √©num√©rations
- Index composites pour optimiser les recherches g√©ographiques
- Contraintes UNIQUE sur email et immatriculation
```

---

## 4. DIAGRAMMES D'UTILISATION ET DE S√âQUENCE

### üë• **Diagramme de cas d'utilisation**

```
                                Syst√®me EcoRide
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                                                                     ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
    ‚îÇ  ‚îÇ   S'inscrire    ‚îÇ    ‚îÇ  Se connecter   ‚îÇ    ‚îÇ  Consulter     ‚îÇ  ‚îÇ
    ‚îÇ  ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ  trajets       ‚îÇ  ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
    ‚îÇ           ‚îÇ                       ‚îÇ                       ‚îÇ         ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
    ‚îÇ  ‚îÇ   Rechercher    ‚îÇ    ‚îÇ    R√©server     ‚îÇ    ‚îÇ   Cr√©er un     ‚îÇ  ‚îÇ
    ‚îÇ  ‚îÇ    trajets      ‚îÇ    ‚îÇ    trajet       ‚îÇ    ‚îÇ    trajet      ‚îÇ  ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
    ‚îÇ           ‚îÇ                       ‚îÇ                       ‚îÇ         ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
    ‚îÇ  ‚îÇ   G√©rer ses     ‚îÇ    ‚îÇ    Evaluer      ‚îÇ    ‚îÇ   G√©rer ses    ‚îÇ  ‚îÇ
    ‚îÇ  ‚îÇ   v√©hicules     ‚îÇ    ‚îÇ    trajets      ‚îÇ    ‚îÇ   r√©servations ‚îÇ  ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
    ‚îÇ                                                                     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ                                                ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                 ‚îÇ                              ‚îÇ                 ‚îÇ
    ‚îÇ   UTILISATEUR   ‚îÇ                              ‚îÇ ADMINISTRATEUR  ‚îÇ
    ‚îÇ   (Passager/    ‚îÇ                              ‚îÇ                 ‚îÇ
    ‚îÇ   Conducteur)   ‚îÇ                              ‚îÇ                 ‚îÇ
    ‚îÇ                 ‚îÇ                              ‚îÇ                 ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ                                                ‚îÇ
              ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ    ‚îÇ              Cas d'usage Admin                     ‚îÇ
              ‚îÇ    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
              ‚îÇ    ‚îÇ  ‚îÇ   Consulter    ‚îÇ    ‚îÇ      G√©rer les          ‚îÇ ‚îÇ
              ‚îÇ    ‚îÇ  ‚îÇ  statistiques  ‚îÇ    ‚îÇ     utilisateurs        ‚îÇ ‚îÇ
              ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
              ‚îÇ    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
              ‚îÇ    ‚îÇ  ‚îÇ   Mod√©rer les  ‚îÇ    ‚îÇ    G√©rer la             ‚îÇ ‚îÇ
              ‚îÇ    ‚îÇ  ‚îÇ    trajets     ‚îÇ    ‚îÇ   plateforme            ‚îÇ ‚îÇ
              ‚îÇ    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
              ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ                            ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üîÑ **Diagramme de s√©quence : R√©servation d'un trajet**

```
Utilisateur    Interface    API Reserve    Database    Conducteur
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ‚îÄ‚îÄRecherche‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ‚îÄ‚îÄGET‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚îÄ‚îÄSELECT‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚óÑ‚îÄ‚îÄResults‚îÄ‚îÄ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ‚óÑ‚îÄ‚îÄTrajets‚îÄ‚îÄ‚îÄ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ‚óÑ‚îÄ‚îÄAffichage‚îÄ‚îÄ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ‚îÄ‚îÄR√©server‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ‚îÄ‚îÄPOST‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚îÄ‚îÄBEGIN‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚îÄ‚îÄUPDATE‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ (Cr√©dits)  ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚óÑ‚îÄ‚îÄOK‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚îÄ‚îÄINSERT‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ (Participation)
    ‚îÇ              ‚îÇ             ‚îÇ‚óÑ‚îÄ‚îÄOK‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚îÄ‚îÄUPDATE‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ (Places)   ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚óÑ‚îÄ‚îÄOK‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚îÄ‚îÄCOMMIT‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚óÑ‚îÄ‚îÄOK‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ‚îÄ‚îÄINSERT‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ (Notification)
    ‚îÇ              ‚îÇ             ‚îÇ‚óÑ‚îÄ‚îÄOK‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ‚óÑ‚îÄ‚îÄSuccess‚îÄ‚îÄ‚îÄ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ‚óÑ‚îÄ‚îÄConfirmation‚îÇ            ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ‚îÄ‚îÄNotify‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ
    ‚îÇ              ‚îÇ             ‚îÇ            ‚îÇ            ‚îÇ‚óÑ‚îÄ‚îÄEmail/SMS
```

### üîÑ **Diagramme de s√©quence : Cr√©ation d'un trajet**

```
Conducteur   Interface   API Trajet   Database   Validation
    ‚îÇ            ‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ‚îÄ‚îÄNouveau‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ‚îÄ‚îÄGET‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ‚îÄ‚îÄSELECT‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ (V√©hicules)
    ‚îÇ            ‚îÇ           ‚îÇ‚óÑ‚îÄ‚îÄData‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ‚óÑ‚îÄ‚îÄForm‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ‚óÑ‚îÄ‚îÄAffiche‚îÄ‚îÄ‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ‚îÄ‚îÄSaisie‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ‚îÄ‚îÄPOST‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ‚îÄ‚îÄValidate‚îÄ‚ñ∫‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ           ‚îÇ‚óÑ‚îÄ‚îÄRules‚îÄ‚îÄ‚îÄ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ‚óÑ‚îÄ‚îÄOK‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ‚îÄ‚îÄINSERT‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ (Covoiturage)
    ‚îÇ            ‚îÇ           ‚îÇ‚óÑ‚îÄ‚îÄID‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ‚îÄ‚îÄINSERT‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ (Param√®tres)
    ‚îÇ            ‚îÇ           ‚îÇ‚óÑ‚îÄ‚îÄOK‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ            ‚îÇ‚óÑ‚îÄ‚îÄSuccess‚îÄ‚îÇ           ‚îÇ           ‚îÇ
    ‚îÇ‚óÑ‚îÄ‚îÄConfirm‚îÄ‚îÄ‚îÇ           ‚îÇ           ‚îÇ           ‚îÇ
```

---

## 5. DOCUMENTATION DU D√âPLOIEMENT

### üöÄ **Strat√©gie de d√©ploiement**

#### **Choix de Render**
```
‚úÖ Avantages techniques :
- Git-based deployment : Push automatique
- Variables d'environnement s√©curis√©es
- Base MySQL manag√©e (pas de configuration)
- HTTPS automatique avec certificats
- Monitoring et logs int√©gr√©s
- Rollback facile en cas de probl√®me

‚úÖ Avantages √©conomiques :
- Tier gratuit g√©n√©reux pour d√©veloppement
- Scaling automatique
- Pas de serveur √† maintenir
```

### üìã **√âtapes du d√©ploiement**

#### **1. Pr√©paration du code**
```bash
# Configuration adaptative pour multi-environnements
class Database {
    public function __construct() {
        // D√©tection automatique Render vs Local
        if (getenv('RAILWAY_ENVIRONMENT')) {
            // Configuration Render automatique
            $this->host = $_ENV['MYSQLHOST'];
            $this->dbname = $_ENV['MYSQL_DATABASE'];
            // ...
        } else {
            // Fallback local
            $this->host = 'localhost';
            $this->dbname = 'ecoride_db';
            // ...
        }
    }
}
```

#### **2. Configuration Render**
```yaml
# Connexion GitHub automatique
Repository: github.com/Isydoria/EcoRide
Branch: main
Build Command: (automatique pour PHP)
Start Command: (pas n√©cessaire pour PHP)

# Variables d'environnement (auto-configur√©es)
MYSQLHOST: containers-us-west-xxx.render.app
MYSQL_DATABASE: render
MYSQLUSER: root
MYSQLPASSWORD: [g√©n√©r√© automatiquement]
MYSQL_URL: mysql://root:pass@host:port/render
```

#### **3. D√©ploiement automatique**
```bash
# Workflow de d√©ploiement
git add .
git commit -m "feat: nouvelle fonctionnalit√©"
git push origin main

# Render d√©tecte automatiquement :
1. Nouveau commit sur main
2. Lance le build (copie des fichiers PHP)
3. Red√©marre l'application
4. Synchronise la base de donn√©es si n√©cessaire
5. Met √† jour l'URL publique
6. Notification de succ√®s/erreur
```

#### **4. Configuration base de donn√©es**
```sql
-- Import automatique lors du premier d√©ploiement
-- Render d√©tecte les fichiers .sql et les ex√©cute

1. database/schema.sql  ‚Üí Structure des tables
2. database/seed.sql    ‚Üí Donn√©es de test
3. Scripts de migration ‚Üí Mises √† jour ult√©rieures

-- Strat√©gies de mise √† jour :
- Migrations versionn√©es
- Sauvegarde automatique avant changement
- Rollback possible en cas d'erreur
```
## üóÑÔ∏è BASE DE DONN√âES NoSQL - MONGODB

### Exigence RNCP
L'√©nonc√© requiert l'utilisation d'une base de donn√©es **relationnelle ET non relationnelle**.

### Solution impl√©ment√©e : mongodb_fake.php

**Contexte technique :**
- PHP 8.3.14 n'a pas l'extension MongoDB native disponible facilement
- Solution alternative : impl√©mentation l√©g√®re compatible MongoDB

**Fonctionnalit√©s :**
- Stockage fichier JSON dans `mongodb_data/`
- API compatible MongoDB : `insertOne()`, `find()`, `aggregate()`
- Collections : `activity_logs`, `search_history`, `performance_metrics`

**Cas d'usage dans EcoRide :**
1. **Logs d'activit√© utilisateur** : Connexions, actions importantes
2. **Historique des recherches** : Trajets recherch√©s par les utilisateurs
3. **M√©triques de performance** : Temps de r√©ponse des pages

**Avantages de cette approche :**
- ‚úÖ R√©pond √† l'exigence RNCP (base NoSQL)
- ‚úÖ Fonctionnel sans configuration serveur complexe
- ‚úÖ API similaire √† MongoDB r√©el
- ‚úÖ Facilement testable avec `/test-mongodb-simple.php`
- ‚úÖ Peut √™tre remplac√© par vrai MongoDB en production

**D√©monstration :**
URL : `/test-mongodb-simple.php`

### üîç **Monitoring et maintenance**

#### **Surveillance Render**
```yaml
M√©triques surveill√©es:
- Temps de r√©ponse moyen
- Nombre de requ√™tes par minute
- Utilisation CPU/RAM
- Erreurs HTTP (4xx, 5xx)
- Disponibilit√© (uptime)

Alertes configur√©es:
- Temps de r√©ponse > 2s
- Taux d'erreur > 5%
- Indisponibilit√© > 1 minute
```

#### **Logs et debugging**
```php
// Logs d'erreur centralis√©s
error_log("EcoRide - Erreur : " . $message, 3, "/logs/app.log");

// Debug conditionnel (seulement en d√©veloppement)
if (getenv('RAILWAY_ENVIRONMENT') !== 'production') {
    var_dump($debug_data);
}
```

### üîÑ **Processus de mise √† jour**

```bash
# 1. D√©veloppement local
git checkout -b feature/nouvelle-fonctionnalite
# ... d√©veloppement ...
git add .
git commit -m "feat: ajout fonctionnalit√© X"

# 2. Test local
php -S localhost:8000  # Test serveur int√©gr√©
# ... tests manuels ...

# 3. D√©ploiement en production
git checkout main
git merge feature/nouvelle-fonctionnalite
git push origin main

# 4. Render d√©ploie automatiquement
# - Build : ~30 secondes
# - Restart : ~10 secondes
# - Total : ~1 minute
```

### üõ°Ô∏è **S√©curit√© du d√©ploiement**

#### **Variables d'environnement**
```bash
# Jamais committ√©es dans Git
MYSQL_PASSWORD=xxx           # G√©n√©r√© par Render
SESSION_SECRET=xxx           # Cl√© de chiffrement sessions
API_KEY_EXTERNAL=xxx         # Cl√©s services externes (future)

# Configuration s√©curis√©e
render variables set KEY=value
```

#### **HTTPS et certificats**
```
‚úÖ Render configure automatiquement :
- Certificat SSL Let's Encrypt
- Redirection HTTP ‚Üí HTTPS
- Headers de s√©curit√© (HSTS, etc.)
- Protection contre attaques communes
```

---

## 6. ARCHITECTURE TECHNIQUE D√âTAILL√âE

### üèóÔ∏è **Patterns architecturaux**

#### **MVC Adapt√©**
```php
// Mod√®le : Classes d'acc√®s aux donn√©es
class CovoiturageModel {
    public function findByRoute($depart, $arrivee) {
        $sql = "SELECT * FROM covoiturage WHERE ville_depart = ? AND ville_arrivee = ?";
        return $this->db->prepare($sql)->execute([$depart, $arrivee]);
    }
}

// Vue : Templates PHP avec s√©paration logique/pr√©sentation
// Contr√¥leur : API endpoints avec validation
class TrajetController {
    public function search() {
        $model = new CovoiturageModel();
        $results = $model->findByRoute($_GET['depart'], $_GET['arrivee']);
        echo json_encode(['success' => true, 'data' => $results]);
    }
}
```

#### **Repository Pattern**
```php
// Abstraction de l'acc√®s aux donn√©es
interface UtilisateurRepository {
    public function findById($id);
    public function findByEmail($email);
    public function create($userData);
}

class MySQLUtilisateurRepository implements UtilisateurRepository {
    // Impl√©mentation sp√©cifique MySQL
}
```

#### **Singleton pour connexion DB**
```php
// Une seule instance de connexion par requ√™te
class Database {
    private static $instance = null;

    public static function getInstance() {
        if (self::$instance === null) {
            self::$instance = new Database();
        }
        return self::$instance;
    }
}
```

### üîê **Couche de s√©curit√©**

```php
// Middleware de s√©curit√©
class SecurityMiddleware {
    public static function validateCSRF($token) {
        return hash_equals($_SESSION['csrf_token'], $token);
    }

    public static function sanitizeInput($input) {
        return htmlspecialchars(trim($input), ENT_QUOTES, 'UTF-8');
    }

    public static function requireAuth() {
        if (!isset($_SESSION['user_id'])) {
            http_response_code(401);
            exit('Unauthorized');
        }
    }
}
```

### üìä **Performances et optimisation**

#### **Requ√™tes optimis√©es**
```sql
-- Index composite pour recherches g√©ographiques
CREATE INDEX idx_route ON covoiturage(ville_depart, ville_arrivee, date_depart);

-- Index partiel pour trajets futurs uniquement
CREATE INDEX idx_trajets_futurs ON covoiturage(date_depart)
WHERE date_depart > NOW() AND statut = 'planifie';
```

#### **Cache et sessions**
```php
// Session optimis√©e
ini_set('session.cookie_httponly', 1);
ini_set('session.cookie_secure', 1);
ini_set('session.use_strict_mode', 1);

// Cache applicatif simple
class Cache {
    private static $data = [];

    public static function get($key) {
        return self::$data[$key] ?? null;
    }

    public static function set($key, $value, $ttl = 300) {
        self::$data[$key] = ['value' => $value, 'expires' => time() + $ttl];
    }
}
```

---

**üìÖ Document cr√©√© :** 22 septembre 2025
**üîÑ Version :** 1.0 - √âvaluation RNCP
**üìã Conformit√© :** Toutes les exigences techniques respect√©es

---

*Cette documentation technique accompagne l'√©valuation du projet EcoRide pour l'obtention du Titre Professionnel D√©veloppeur Web et Web Mobile.*